{header}
<!-- Breadcrumb -->
<nav class="flex items-center gap-2 text-sm text-gray-600 mb-6">
  <a href="{url_home}" class="hover:text-brand-blue transition"><i class="fa-solid fa-home"></i></a>
  <i class="fa-solid fa-chevron-right text-xs"></i>
  <span class="text-gray-900">{clickstream}</span>
  <div class="ml-auto flex items-center gap-4">
    <a href="{url_top_images}" class="hover:text-brand-blue transition font-medium"><i class="fa-solid fa-star text-xs"></i> {lang_top_images}</a>
    <a href="{url_new_images}" class="hover:text-brand-blue transition font-medium"><i class="fa-solid fa-sparkles text-xs"></i> {lang_new_images}</a>
  </div>
</nav>

<!-- Main Layout: Sidebar + Content -->
<div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

  <!-- Sidebar (3 cols desktop, full-width mobile) -->
  <aside class="lg:col-span-3 space-y-6">

    <!-- User Box Card -->
    <div class="bg-white rounded-lg shadow overflow-hidden">
      <div class="bg-brand-blue text-white px-4 py-3 font-semibold text-sm flex items-center gap-2">
        <i class="fa-solid fa-user"></i>
        {lang_registered_user}
      </div>
      <div class="p-4 text-sm text-center">
        {user_box}
      </div>
    </div>

    <!-- Random Category Image Card -->
    {if random_cat_image}
    <div class="bg-white rounded-lg shadow overflow-hidden">
      <div class="bg-brand-blue text-white px-4 py-3 font-semibold text-sm flex items-center gap-2">
        <i class="fa-solid fa-shuffle"></i>
        {lang_random_image}
      </div>
      <div class="p-4 text-center">
        {random_cat_image}
      </div>
    </div>
    {endif random_cat_image}

  </aside>

  <!-- Main Content (9 cols desktop) -->
  <section class="lg:col-span-9">

    <!-- Category Header -->
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4">
      <h1 class="text-3xl font-bold text-gray-900">{cat_name}</h1>
      <div>{upload_button}</div>
    </div>

    <!-- Category Description -->
    <div class="text-gray-700 mb-2">
      {cat_description} <span class="text-gray-500 text-sm">(Hits: {cat_hits})</span>
    </div>

    <hr class="border-t border-gray-300 mb-6" />

    <!-- Sub-Categories -->
    {if categories}
    <div class="bg-white rounded-lg shadow overflow-hidden mb-6">
      <div class="bg-brand-blue text-white px-6 py-4 font-semibold flex items-center gap-2">
        <i class="fa-solid fa-folder-open"></i>
        {lang_sub_categories}
      </div>
      <div class="p-6">
        {categories}
      </div>
    </div>
    {endif categories}

    <!-- Paging Stats -->
    <div class="text-sm text-gray-600 mb-4">
      {paging_stats}
    </div>

    <!-- Success/Error Message -->
    {if msg}
    <div class="bg-blue-50 border border-blue-200 text-blue-900 px-4 py-3 rounded mb-6">
      <b>{msg}</b>
    </div>
    {endif msg}

    <!-- Thumbnails -->
    {if thumbnails}
    <div class="mb-6">
      {thumbnails}
    </div>
    {endif thumbnails}

    <!-- Paging Navigation -->
    <div class="mb-6">
      {paging}
    </div>

    <!-- Category & Items Per Page Dropdowns -->
    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6">
      <div class="w-full sm:w-auto">
        {category_dropdown_form}
      </div>
      <div class="w-full sm:w-auto">
        {setperpage_dropdown_form}
      </div>
    </div>

  </section>

</div>
{footer}
